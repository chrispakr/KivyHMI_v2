
<IconButton@Button>:
    alpha: 1.0
    imageSource: None
    size_hint: None, None
    size: 77, 65
    background_normal: "pictures/buttons/button_top_small.png"
    background_down: "pictures/buttons/button_top_small.png"
    background_color: app.baseColor
    canvas.before:
        Color:
            rgb: app.baseColor
            a: 0.0 if self.state == "normal" else 0.6
        RoundedRectangle:
            pos: self.x, self.y
            size: self.width, self.height
            radius: [8]
    Image:
        source: root.imageSource
        size: 50, 50
        center_x: self.parent.center_x
        center_y: self.parent.center_y


<IconButtonToggle@ToggleButton>:
    alpha: 1.0
    imageSource: None
    size_hint: None, None
    size: 77, 65
    background_normal: "pictures/buttons/button_top_small.png"
    background_down: "pictures/buttons/button_top_small.png"
    background_color: app.baseColor
    canvas.before:
        Color:
            rgb: app.baseColor
            a: 0.0 if self.state == "normal" else 0.6
        RoundedRectangle:
            pos: self.x, self.y
            size: self.width, self.height
            radius: [8]
    Image:
        source: root.imageSource
        size: 50, 50
        center_x: self.parent.center_x
        center_y: self.parent.center_y


<selectLedColorButton@ToggleButton>:
    ledColor: 1,1,0,1
    background_color: 0,0,0,0
    background_down: ""
    background_normal: ""
    canvas.before:
        Color:
            rgb: self.lecColor
            a: 1.0
        RoundedRectangle:
            pos: self.x, self.y
            size: self.width, self.height
            radius: [8]


<NextPicButton@Button>:
    alpha: 1.0
    imageSource: None
    size_hint: None, None
    size: 164, 65
    background_normal: "pictures/buttons/button_nextPic.png"
    background_down: "pictures/buttons/button_nextPic.png"
    background_disabled: "pictures/buttons/button_nextPic.png"
    background_disabled_normal: "pictures/buttons/button_nextPic.png"
    background_color: app.baseColor if self.disabled == False else app.baseGrey
    canvas.before:
        Color:
            rgb: app.baseColor
            a: 0.0 if self.state == "normal" else 0.3
        RoundedRectangle:
            pos: self.x, self.y
            size: self.width, self.height
            radius: [8]
    Image:
        source: root.imageSource
        color: 1,1,1,1.0 if root.disabled == False else 0.3
        size: 50, 50
        center_x: self.parent.center_x
        center_y: self.parent.center_y

<DhButton@Button>:
    alpha: 1.0
    arrowAngle: 0
    curDhPosition: app.curDhPosition
    imageSource: None
    size_hint: None, None
    size: 338, 65
    font_name: "StdFont"
    font_size: 16
    text: "LOWER GLASS"
    background_normal: "pictures/buttons/button_glass.png"
    background_down: "pictures/buttons/button_glass.png"
    background_color: app.baseColor
    canvas.before:
        Color:
            rgb: app.baseColor
            a: 0.0 if self.state == "normal" else 0.3
        RoundedRectangle:
            pos: self.x, self.y
            size: self.width, self.height
            radius: [8]
    Image:
        source: root.imageSource
        size: 50, 50
        center_x: self.parent.center_x - 130
        center_y: self.parent.center_y
        canvas.before:
            PushMatrix
            Rotate:
                axis: 0,0,1
                angle: root.arrowAngle
                origin: self.center
        canvas.after:
            PopMatrix
    Image:
        source: root.imageSource
        size: 50, 50
        center_x: self.parent.center_x + 130
        center_y: self.parent.center_y
        canvas.before:
            PushMatrix
            Rotate:
                axis: 0,0,1
                angle: root.arrowAngle * -1
                origin: self.center
        canvas.after:
            PopMatrix


<SelectFilmButton@Button>:
    alpha: 1.0
    filmName: ""
    size_hint: None, None
    size: 338, 65
    font_name: "StdFont"
    font_size: 16
    background_normal: "pictures/Button_FilmType.png"
    background_down: "pictures/Button_FilmType.png"
    canvas.before:
        Color:
            rgb: app.baseColor
            a: 0.0 if self.state == "normal" else 0.3
        RoundedRectangle:
            pos: self.x, self.y
            size: self.width, self.height
            radius: [8]
    canvas:
        Color:
            rgb: app.baseColor
        RoundedRectangle:
            pos: self.x, self.y + 45
            size: self.width, 20
            radius: [8,8,0,0]
    Label:
        center_x: root.center_x
        center_y: root.center_y + 22
        color: app.baseBlack
        font_name: "StdFont"
        font_size: 14
        text: "FILMTYPE"
    Label:
        center_x: root.center_x
        center_y: root.center_y - 10
        color: app.baseWhite
        font_name: "StdFont"
        font_size: 16
        text: root.filmName


<StartFilmLoadButton@Button>:
    alpha: 1.0
    #size_hint: None, None
    #size: 340, 45
    font_name: "StdFont"
    font_size: 16
    background_color: 0,0,0,0
    canvas.before:
        Color:
            rgb: app.baseColor
            a: 1.0 if self.state == "normal" else 0.5
        RoundedRectangle:
            pos: self.x, self.y
            size: self.width, self.height
            radius: [8]
    Label:
        center_x: root.center_x
        center_y: root.center_y
        color: app.baseWhite
        font_name: "StdFont"
        font_size: 16
        text: "START LOADING FILM"


<FilmLoadButton@Button>:
    size_hint: None, None
    size: 164, 65
    btnText: ""
    font_name: "StdFontBold"
    font_size: 18
    background_color: 0,0,0,0
    canvas.before:
        Color:
            rgb: app.baseColor
            a: 1.0 if self.state == "normal" else 0.5
        RoundedRectangle:
            pos: self.x, self.y
            size: self.width, self.height
            radius: [8]
    Label:
        center_x: root.center_x
        center_y: root.center_y
        color: app.baseWhite
        font_name: "StdFont"
        font_size: 16
        text: root.btnText


<LoadFilmFfwButton@Button>:
    size_hint: None, None
    size: 338, 65
    background_normal: "pictures/button_LoadFilmFFW.png"
    background_down: "pictures/button_LoadFilmFFW.png"
    background_color: app.baseColor
    canvas.before:
        Color:
            rgb: app.baseColor
            a: 0.0 if self.state == "normal" else 0.3
        RoundedRectangle:
            pos: self.x, self.y
            size: self.width, self.height
            radius: [8]
    Image:
        source: "pictures/icon_LoadFilm_FFW.png"
        size: 50, 50
        center_x: self.parent.center_x
        center_y: self.parent.center_y


<InfoTextLabel@Label>:
    font_name: "StdFontBold"
    font_size: 18
    text: ""
    background_color: 0,0,0,0
    canvas.before:
        Color:
            rgb: app.baseGrey
            #a: 1.0 if self.state == "normal" else 0.5
        Line:
            width: 1.05
            rounded_rectangle: self.x, self.y, self.width, self.height, 8, 50

<InfoTextPulseLabel@Label>:
    border_color:
    font_name: "StdFontBold"
    font_size: 18
    text: ""
    background_color: 0,0,0,0
    canvas.before:
        Color:
            rgb: self.border_color
            #a: 1.0 if self.state == "normal" else 0.5
        Line:
            width: 1.05
            rounded_rectangle: self.x, self.y, self.width, self.height, 8, 50

<MoveFilmButton@Button>:
    alpha: 1.0
    imageSource: ""
    size_hint: None, None
    size: 77, 50
    background_normal: "pictures/buttons/button_filmMove.png"
    background_down: "pictures/buttons/button_filmMove.png"
    background_disabled: "pictures/buttons/button_filmMove.png"
    background_disabled_normal: "pictures/buttons/button_filmMove.png"
    background_color: app.baseColor if self.disabled == False else app.baseGrey
    font_name: "StdFont"
    font_size: 24
    canvas.before:
        Color:
            rgb: app.baseColor
            a: 0.0 if self.state == "normal" else 0.3
        RoundedRectangle:
            pos: self.x, self.y
            size: self.width, self.height
            radius: [8]
    Image:
        source: root.imageSource
        color: 1,1,1,1.0 if root.disabled == False else 0.3
        center_x: self.parent.center_x
        center_y: self.parent.center_y



<selectCameraTypeButton@ToggleButton>:
    alpha: 1.0
    btnText: "fesdf"
    size_hint: None, None
    size: 164, 60
    background_normal: "pictures/buttons/button_filmType.png"
    background_down: "pictures/buttons/button_filmType.png"
    background_color: app.baseColor
    canvas.before:
        Color:
            rgb: app.baseColor
            a: 0.0 if self.state == "normal" else 0.3
        RoundedRectangle:
            pos: self.x, self.y
            size: self.width, self.height
            radius: [8]
    Label:
        center_x: root.center_x
        center_y: root.center_y
        color: app.baseWhite
        font_name: "StdFont"
        font_size: 16
        text: root.btnText


<TextButton@ToggleButton>:
    alpha: 1.0
    font_name: "StdFont"
    font_size: 16
    halign: "center"
    background_color: 0,0,0,0
    canvas.before:
        Color:
            rgb: app.baseColor
            a: 0.0 if self.state == "normal" else 0.3
        RoundedRectangle:
            pos: self.x, self.y
            size: self.width, self.height
            radius: [8]
        Color:
            rgb: app.baseColor
            a: 1.0
        Line:
            width: 1.05
            rounded_rectangle: self.x, self.y, self.width, self.height, 8, 50


<SelectFilmTypeButton@ToggleButton>:
    font_name: "StdFont"
    font_size: 16
    halign: "center"
    background_color: 0,0,0,0
    canvas.before:
        Color:
            rgb: app.baseColor
            a: 0.0 if self.state == "normal" else 0.3
        RoundedRectangle:
            pos: self.x, self.y
            size: self.width, self.height
            radius: [8]
        Color:
            rgb: app.baseColor
            a: 1.0
        Line:
            width: 1.05
            rounded_rectangle: self.x, self.y, self.width, self.height, 8, 50


<SelectCameraButton@ToggleButton>:
    presetId: 0
    group: "sc_btn"
    size_hint_y: None
    font_name: "StdFont"
    font_size: 16
    halign: "center"
    background_color: 0,0,0,0
    canvas.before:
        Color:
            rgb: app.baseColor
            a: 0.0 if self.state == "normal" else 0.3
        RoundedRectangle:
            pos: self.x, self.y
            size: self.width, self.height
            radius: [8]
        Color:
            rgb: app.baseColor
            a: 1.0
        Line:
            width: 1.05
            rounded_rectangle: self.x, self.y, self.width, self.height, 8, 50



<StopButton@Button>:
    alpha: 1.0
    size_hint: None, None
    size: 164, 50
    background_normal: "pictures/buttons/button_stop.png"
    background_down: "pictures/buttons/button_stop.png"
    font_name: "StdFont"
    font_size: 16
    background_color: app.baseColor if self.disabled == False else app.baseGrey
    canvas.before:
        Color:
            rgb: app.baseColor
            a: 0.0 if self.state == "normal" else 0.3
        RoundedRectangle:
            pos: self.x, self.y
            size: self.width, self.height
            radius: [8]

<enableFreeRunPopup>:
    Label:
        text: "Do you want disable the motors?"
        size_hint: 0.6, 0.2
        pos_hint: {"x":0.2, "top":0.8}
    BoxLayout:
        orientation: "horizontal"
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        Button:
            text: 'OK, unlock motors...'
            size_hint: 1, 0.4
            on_press:
                app.enable_freerun()

<disableFreeRunPopup>:
    Label:
        text: "Disable FreeRun need a re-initialization of the insert film.\n Do you want to proceed? "
        size_hint: 0.6, 0.2
        pos_hint: {"x":0.2, "top":0.8}
    BoxLayout:
        orientation: "horizontal"
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        Button:
            text: 'Init-Film'
            size_hint: 1, 0.4
            on_press:
                app.disable_freerun_with_initfilm()


<DownHolder@RelativeLayout>:
    curDhPosition: app.curDhPosition
    setPosition : 0
    size_hint: None, None
    width: 158
    height: 25
    canvas:
        Color:
            rgb: app.baseGrey
        RoundedRectangle:
            pos: 0, 0
            size: self.width, 10
            radius: [3]
        RoundedRectangle:
            pos: 0, 15
            size: self.width, 10
            radius: [3]
        Color:
            rgb: app.baseColor
        RoundedRectangle:
            pos: 0, root.setPosition
            size: self.width, 10
            radius: [3]
